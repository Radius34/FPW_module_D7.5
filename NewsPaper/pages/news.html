{% extends 'default.html' %}
{% load censor %}  <!-- загружаем фильтр censor -->

{% block content %}
  <h1>News</h1>
  {% for article in articles %}
    <h2>{{ article.title|censor }}</h2>  <!-- применяем фильтр censor к заголовку -->
    <a href="{% url 'account_signup' %}">Зарегистрироваться</a>
    <p>{{ article.date|date:"d.m.Y" }}</p>
    <p>{{ article.text|censor|truncatechars:20 }}</p>  <!-- применяем фильтр censor к тексту и обрезаем до 20 символов -->
    <a href="/news/{{ article.id }}">Read more</a>
  {% endfor %}
{% endblock %}

